1) MMM-IFRAME 모듈 설치
cd ~/MagicMirror/modules
git clone https://github.com/alberttwong/MMM-iFrame.git

2) 웹캠 화면 브라우저에서 열기
라즈베리파이의 기본 웹캠을 HTML5 <video> 태그로 열어 웹캠 화면을 보여줄 수 있습니다. 
이때 웹캠을 지원하는 간단한 HTML 파일을 만들어, 이를 MMM-IFRAME으로 스마트미러에 띄우는 방식입니다.

예를 들어 /home/pi/MagicMirror/modules/MMM-iFrame/public/webcam.html이라는 파일을 생성하고, 
다음과 같이 HTML 코드를 작성하세요.
html

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Webcam Stream</title>
</head>
<body>
    <video autoplay playsinline width="640" height="480" id="videoElement"></video>
    <script>
        const video = document.getElementById('videoElement');
        if (navigator.mediaDevices.getUserMedia) {
            navigator.mediaDevices.getUserMedia({ video: true })
            .then((stream) => {
                video.srcObject = stream;
            })
            .catch((error) => {
                console.error("Webcam access error:", error);
            });
        }
    </script>
</body>
</html>

chromium-browser --use-fake-ui-for-media-stream
크롬 브라우저의 "권한 자동 허용" 설정 사용

Kiosk 모드로 Chromium 시작하기 터미널에서 
아래 명령어를 실행하여 Kiosk 모드로 Chromium을 시작해 보세요. 
이때 --use-fake-ui-for-media-stream 플래그를 포함시킵니다.

chromium-browser --kiosk --use-fake-ui-for-media-stream --app=http://localhost:8080/webcam.html
이렇게 하면 webcam.html이 전체 화면으로 실행되고 권한 요청을 자동으로 허용하게 됩니다.



3) MagicMirror 설정 파일 수정
config.js 파일에 MMM-IFRAME 모듈을 추가하여 위에서 만든 HTML 파일을 불러옵니다
{
    module: "MMM-iFrame",
    position: "middle_center", // 스마트미러 가운데에 배치
    config: {
        url: "http://localhost:8080/modules/MMM-iFrame/public/webcam.html", // 생성한 HTML 파일 경로
        width: "640px",
        height: "480px"
    }
}

4)스마트미러 재시작
config.js 파일을 저장한 후, MagicMirror를 다시 시작하여 웹캠 화면이 가운데에 표시되는지 확인

5) MagicMirror의 pm2 설정에서 자동화 만약 MagicMirror가 pm2로 자동 실행되도록 설정되어 있다면, 
pm2 설정을 수정하여 위 플래그를 추가할 수 있습니다.

pm2 stop MagicMirror
pm2 start MagicMirror -- --use-fake-ui-for-media-stream
pm2 save
