스크립트를 저장하고,

실행 권한을 주고,

터미널에서 실행하는 거예요.

1단계. 스크립트 저장

터미널에 아래 명령어 전체를 붙여넣고 Enter만 누르면 됩니다:

cat > adv_countdown.sh <<'SH'
#!/usr/bin/env bash
IF=${1:-hci0}     # 기본 hci0
SEC=${2:-20}      # 기본 20초
DIR=${3:-A}       # 기본 방향 A
while [ $SEC -ge 0 ]; do
  NAME="S:${SEC}|D:${DIR}|Q:1"
  sudo btmgmt -i "$IF" add-adv -d -n "$NAME" >/dev/null
  sleep 0.28
  sudo btmgmt -i "$IF" rm-adv 0 >/dev/null 2>&1
  sleep 0.02
  SEC=$((SEC-1))
done
SH

2단계. 실행 권한 주기
chmod +x adv_countdown.sh

3단계. 실행하기
./adv_countdown.sh


위 명령어를 실행하면 기본값(20초, 방향 A)으로 작동합니다.
만약 15초 동안 방향 B로 보내고 싶다면:

./adv_countdown.sh hci0 15 B
